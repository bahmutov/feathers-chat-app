{
  "public/app.js": "// A placeholder image if the user does not have one\nconst PLACEHOLDER = 'https://placeimg.com/60/60/people';\n\n// An anonymous user if the message does not have that information\nconst dummyUser = {\n  avatar: PLACEHOLDER,\n  email: 'Anonymous'\n}\n\n// Establish a Socket.io connection\n// const socket = io()\n\n// Initialize our Feathers client application through Socket.io\n// with hooks and authentication.\nconst rest = feathers.rest(window.location.origin);\n\nconst app = feathers()\n  .configure(rest.fetch(window.fetch.bind(window)))\n  // .configure(feathers.socketio(socket))\n  .configure(feathers.hooks())\n  // Use localStorage to store our login token\n  .configure(feathers.authentication({\n    storage: window.localStorage\n  }))\n\n  // Get the Feathers services we want to use\nconst userService = app.service('users');\nconst messageService = app.service('messages');\n\nvar vm = new Vue({\n  el: 'body',\n  data: {\n    user: {\n      authenticated: false\n    }\n  },\n\n  created() {\n    app.authenticate().then(() => {\n      this.user.authenticated = true\n    })\n    // On errors we just redirect back to the login page\n    .catch(error => {\n      if (error.code === 401) window.location.href = '/login.html'\n    });\n  }\n})\n\nVue.component('chat-app', {\n  template: '#chat-app-template'\n})\n\nVue.component('user-list', {\n  template: '#user-list-template',\n\n  data() {\n    return {\n      dummyUser: dummyUser,\n      users: []\n    }\n  },\n\n  ready() {\n    // Find all users\n    userService.find().then(page => {\n      this.users = page.data\n    })\n\n    // We will also see when new users get created in real-time\n    userService.on('created', user => {\n      this.users.push(user)\n    })\n  },\n\n  methods: {\n    logout() {\n      app.logout().then(() => {\n        vm.user.authenticated = false\n        window.location.href = '/index.html'\n      })\n    }\n  }\n})\n\nVue.component('message-list', {\n  template: '#message-list-template',\n\n  data () {\n    return {\n      placeholder: PLACEHOLDER,\n      messages: []\n    }\n  },\n\n  ready () {\n    // Find the latest 10 messages. They will come with the newest first\n    // which is why we have to reverse before adding them\n    messageService.find({\n      query: {\n        $sort: {createdAt: -1},\n        $limit: 25\n      }\n    }).then(page => {\n      page.data.reverse()\n      this.messages = page.data\n      this.scrollToBottom()\n    })\n\n    // Listen to created events and add the new message in real-time\n    messageService.on('created', message => {\n      this.messages.push(message)\n      this.newMessage = ''\n      this.scrollToBottom()\n    })\n  },\n\n  methods: {\n    scrollToBottom: () => {\n      vm.$nextTick(() => {\n        const node = vm.$el.getElementsByClassName('chat')[0]\n        node.scrollTop = node.scrollHeight\n      })\n    }\n  }\n})\n\nVue.component('message', {\n  props: ['message', 'index'],\n  template: '#message-template',\n  filters: {\n    moment: date => {\n      return moment(date).format('MMM Do, hh:mm:ss')\n    }\n  }\n})\n\nVue.component('compose-message', {\n  template: '#compose-message-template',\n\n  data () {\n    return {\n      newMessage: ''\n    }\n  },\n\n  methods: {\n    addMessage () {\n      // Create a new message and then clear the input field\n      messageService.create({text: this.newMessage}).then(this.newMessage = '')\n    }\n  }\n})\n",
  "public/chat.html": "<html>\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0\"/>\n  <title>Feathers Chat</title>\n  <link rel=\"stylesheet\" href=\"https://cdn.rawgit.com/feathersjs/feathers-chat/v0.1.0/public/base.css\">\n  <link rel=\"stylesheet\" href=\"https://cdn.rawgit.com/feathersjs/feathers-chat/v0.1.0/public/chat.css\">\n</head>\n<body>\n\n\n<chat-app v-if=\"user.authenticated\">\n  <user-list></user-list>\n  <message-list>\n    <compose-message></compose-message>\n  </message-list>\n</chat-app>\n\n\n<template id=\"chat-app-template\">\n  <div id=\"app\" class=\"flex flex-column\">\n    <header class=\"title-bar flex flex-row flex-center\">\n      <div class=\"title-wrapper block center-element\">\n        <img class=\"logo\" src=\"http://feathersjs.com/img/feathers-logo-wide.png\" alt=\"Feathers Logo\">\n        <span class=\"title\">Chat</span>\n      </div>\n    </header>\n    <div class=\"flex flex-row flex-1 clear\">\n\n      <!-- Slots/transclusion (Angular). See http://vuejs.org/guide/components.html#Single-Slot -->\n      <slot></slot>\n\n    </div>\n  </div>\n</template>\n\n\n<template id=\"user-list-template\">\n  <aside class=\"sidebar col col-3 flex flex-column flex-space-between\">\n    <header class=\"flex flex-row flex-center\">\n      <h4 class=\"font-300 text-center\"><span class=\"font-600 online-count\" v-cloak>{{ users.length }}</span> users</h4>\n    </header>\n    <ul class=\"flex flex-column flex-1 list-unstyled user-list\">\n      <li v-for=\"user in users\" track-by=\"$index\" v-cloak>\n        <a class=\"block relative\" href=\"#\">\n          <img :src=\"user.avatar || dummyUser.avatar\" alt=\"\" class=\"avatar\">\n          <span class=\"absolute username\">{{ user.email || dummyUser.email }}</span>\n        </a>\n      </li>\n    </ul>\n    <footer class=\"flex flex-row flex-center\">\n      <a href=\"#\" class=\"logout button button-primary\" @click=\"logout\">Sign Out</a>\n    </footer>\n  </aside>\n</template>\n\n\n<template id=\"message-list-template\">\n  <div class=\"flex flex-column col col-9\">\n    <main class=\"chat flex flex-column flex-1 clear\">\n      <div class=\"message flex flex-row\" v-for=\"message in messages\" track-by=\"$index\" v-cloak>\n        <message :message=message></message>\n      </div>\n    </main>\n\n    <slot></slot>\n\n  </div>\n</template>\n\n\n<template id=\"message-template\">\n  <img :src=\"message.sentBy.avatar || placeholder\" alt=\"{{ message.sentBy.email }}\" class=\"avatar\">\n  <div class=\"message-wrapper\">\n    <p class=\"message-header\">\n      <span class=\"username font-600\">{{ message.email }}</span>\n      <span class=\"sent-date font-300\">{{ message.createdAt | moment }}</span>\n    </p>\n    <p class=\"message-content font-300\">{{ message.text }}</p>\n  </div>\n  </div>\n</template>\n\n\n<template id=\"compose-message-template\">\n  <form class=\"flex flex-row flex-space-between\" id=\"send-message\" v-on:submit.prevent>\n    <input type=\"text\" name=\"text\" class=\"flex flex-1\" v-model=\"newMessage\">\n    <button class=\"button-primary\" type=\"submit\" @click=\"addMessage\">Send</button>\n  </form>\n</template>\n\n\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.21/vue.js\"></script>\n<script src=\"//cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/moment.js\"></script>\n<script src=\"//cdn.rawgit.com/feathersjs/feathers-client/v1.0.0/dist/feathers.js\"></script>\n<!-- <script src=\"/socket.io/socket.io.js\"></script> -->\n<script src=\"app.js\"></script>\n</body>\n</html>\n",
  "public/index.html": "<html>\n  <head>\n    <meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\">\n    <meta name=\"viewport\"\n      content=\"width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0\">\n    <title>Feathers Chat</title>\n    <link rel=\"shortcut icon\" href=\"favicon.ico\">\n    <link rel=\"stylesheet\" href=\"//cdn.rawgit.com/feathersjs/feathers-chat/v0.1.0/public/base.css\">\n    <link rel=\"stylesheet\" href=\"//cdn.rawgit.com/feathersjs/feathers-chat/v0.1.0/public/chat.css\">\n  </head>\n  <body>\n    <main class=\"home container\">\n      <div class=\"row\">\n        <div class=\"col-12 col-8-tablet push-2-tablet text-center\">\n          <img class=\"logo center-item\"\n            src=\"http://feathersjs.com/img/feathers-logo-wide.png\"\n            alt=\"Feathers Logo\">\n          <h3 class=\"title\">Chat</h3>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-12 push-4-tablet col-4-tablet\">\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <a href=\"login.html\" class=\"button button-primary block login\">\n                Login\n              </a>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <a href=\"signup.html\" class=\"button button-primary block signup\">\n                Signup\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </main>\n  </body>\n</html>\n",
  "public/login.html": "<html>\n  <head>\n    <meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\">\n    <meta name=\"viewport\"\n      content=\"width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0\">\n    <title>Feathers Chat</title>\n    <link rel=\"shortcut icon\" href=\"favicon.ico\">\n    <link rel=\"stylesheet\" href=\"//cdn.rawgit.com/feathersjs/feathers-chat/v0.1.0/public/base.css\">\n    <link rel=\"stylesheet\" href=\"//cdn.rawgit.com/feathersjs/feathers-chat/v0.1.0/public/chat.css\">\n  </head>\n  <body>\n    <main class=\"login container\">\n      <div class=\"row\">\n        <div class=\"col-12 col-6-tablet push-3-tablet text-center\">\n          <h1 class=\"font-100\">Welcome Back</h1>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-12 col-6-tablet push-3-tablet col-4-desktop push-4-desktop text-center\">\n          <form class=\"form\" method=\"post\" action=\"/auth/local\">\n            <fieldset>\n              <input class=\"block\" type=\"email\" name=\"email\" placeholder=\"email\">\n            </fieldset>\n            <fieldset>\n              <input class=\"block\" type=\"password\" name=\"password\" placeholder=\"password\">\n            </fieldset>\n            <button type=\"submit\" class=\"button button-primary block login\">\n              Login\n            </button>\n          </form>\n        </div>\n      </div>\n    </main>\n  </body>\n</html>\n",
  "public/signup.html": "<html>\n  <head>\n    <meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\">\n    <meta name=\"viewport\"\n      content=\"width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0\">\n    <title>Feathers Chat</title>\n\n    <link rel=\"shortcut icon\" href=\"img/favicon.png\">\n    <link rel=\"stylesheet\" href=\"//cdn.rawgit.com/feathersjs/feathers-chat/v0.1.0/public/base.css\">\n    <link rel=\"stylesheet\" href=\"//cdn.rawgit.com/feathersjs/feathers-chat/v0.1.0/public/chat.css\">\n  </head>\n  <body>\n    <main class=\"login container\">\n      <div class=\"row\">\n        <div class=\"col-12 col-6-tablet push-3-tablet text-center\">\n          <h1 class=\"font-100\">Create an Account</h1>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-12 col-6-tablet push-3-tablet col-4-desktop push-4-desktop text-center\">\n          <form class=\"form\" method=\"post\" action=\"/signup\">\n            <fieldset>\n              <input class=\"block\" type=\"email\" name=\"email\" placeholder=\"email\">\n            </fieldset>\n            <fieldset>\n              <input class=\"block\" type=\"password\" name=\"password\" placeholder=\"password\">\n            </fieldset>\n            <button type=\"submit\" class=\"button button-primary block signup\">\n              Signup\n            </button>\n          </form>\n        </div>\n      </div>\n    </main>\n  </body>\n</html>\n",
  "config/default.json": "{\n  \"host\": \"localhost\",\n  \"port\": 3030,\n  \"nedb\": \"/tmp/\",\n  \"dumb-db-secret\": \"ebd2d309-83d2-4857-8b02-b933c480c1a9\",\n  \"public\": \"/tmp/public/\",\n  \"auth\": {\n    \"token\": {\n      \"secret\": \"UPdfd8a1mFboSCRF6+1vVvYQgceSW15Y86gWNaGgbOUvJc/N/64VJxJXQNWhfvbQqGhsDZp/bTWm41NncdB7Jw==\"\n    },\n    \"local\": {},\n    \"successRedirect\": \"/chat.html\"\n  }\n}\n",
  "config/production.json": "{\n  \"host\": \"feathers-chat-app-app.feathersjs.com\",\n  \"port\": 80,\n  \"nedb\": \"NEDB_BASE_PATH\",\n  \"auth\": {\n    \"token\": {\n      \"secret\": \"FEATHERS_AUTH_SECRET\"\n    },\n    \"local\": {}\n  }\n}\n"
}
